<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProductHub - Modern Product SPA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        /* Info Modal */
        .info-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translate(-50%, -40%);
                opacity: 0;
            }

            to {
                transform: translate(-50%, -50%);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            padding: 2rem;
            overflow-y: auto;
            max-height: 60vh;
        }

        .modal-section {
            margin-bottom: 2rem;
        }

        .modal-section h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-section h3 i {
            color: var(--secondary);
        }

        .modal-section ul {
            list-style: none;
            padding-left: 1.5rem;
        }

        .modal-section li {
            margin-bottom: 0.5rem;
            position: relative;
        }

        .modal-section li:before {
            content: "•";
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: -1rem;
        }

        .modal-footer {
            padding: 1rem 2rem;
            background: var(--light-gray);
            text-align: center;
            border-top: 1px solid #ddd;
        }

        .modal-footer p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Dark mode modal styles */
        body.dark-mode .modal-content {
            background: #1e1e1e;
            color: #e0e0e0;
        }

        body.dark-mode .modal-body {
            color: #e0e0e0;
        }

        body.dark-mode .modal-section h3 {
            color: var(--success);
        }

        body.dark-mode .modal-footer {
            background: #2d2d2d;
            border-top: 1px solid #444;
        }

        /* Responsive modal */
        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                max-height: 90vh;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .modal-header {
                padding: 1rem 1.5rem;
            }
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --success: #4cc9f0;
            --danger: #f72585;
            --card-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --border-radius: 12px;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--dark);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Navbar */
        .navbar {
            background: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .logo i {
            color: var(--secondary);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--gray);
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .nav-links a:hover {
            color: var(--primary);
            background: var(--light-gray);
        }

        .nav-links a.active {
            color: white;
            background: var(--primary);
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-bar {
            position: relative;
        }

        .search-bar input {
            padding: 0.6rem 1rem 0.6rem 2.5rem;
            border: 2px solid var(--light-gray);
            border-radius: 50px;
            width: 250px;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .search-bar i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--gray);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: var(--light-gray);
            color: var(--dark);
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }

        /* Hero Section */
        /* 3D Icons and Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: var(--border-radius);
            padding: 4rem 2rem;
            text-align: center;
            color: white;
            margin-bottom: 3rem;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: cover;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 700px;
            margin: 0 auto 3rem;
            opacity: 0.95;
            line-height: 1.8;
            position: relative;
            z-index: 1;
        }

        /* 3D Icons Container */
        .hero-icons {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin: 3rem auto 2rem;
            max-width: 1000px;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .icon-3d {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            width: 160px;
            height: 160px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            box-shadow:
                0 10px 30px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .icon-3d::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg,
                    transparent 30%,
                    rgba(255, 255, 255, 0.1) 50%,
                    transparent 70%);
            transform: rotate(45deg);
            animation: shine 3s infinite linear;
        }

        @keyframes shine {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        .icon-3d:hover {
            transform: translateY(-15px) rotateX(10deg) rotateY(10deg);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.25);
        }

        .icon-3d i {
            font-size: 3.5rem;
            color: white;
            margin-bottom: 1rem;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .icon-3d:hover i {
            transform: scale(1.2);
            filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));
        }

        .icon-3d .icon-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            margin-top: 0.5rem;
        }

        .icon-3d .icon-subtitle {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 0.3rem;
        }

        /* Floating Animation */
        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0);
            }

            50% {
                transform: translateY(-10px) rotate(2deg);
            }
        }

        .icon-3d:nth-child(1) {
            animation: float 4s ease-in-out infinite;
        }

        .icon-3d:nth-child(2) {
            animation: float 4s ease-in-out infinite 0.5s;
        }

        .icon-3d:nth-child(3) {
            animation: float 4s ease-in-out infinite 1s;
        }

        /* Hero Buttons */
        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            margin-top: 3rem;
            position: relative;
            z-index: 1;
        }

        .hero-buttons .btn {
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
            border-radius: 50px;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .hero-buttons .btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        /* Responsive Design for Hero */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
                padding: 0 1rem;
            }

            .hero-icons {
                gap: 1.5rem;
            }

            .icon-3d {
                width: 130px;
                height: 130px;
                padding: 1.5rem;
            }

            .icon-3d i {
                font-size: 2.8rem;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .hero-buttons .btn {
                width: 80%;
                max-width: 300px;
            }
        }

        @media (max-width: 480px) {
            .hero-icons {
                flex-direction: column;
                align-items: center;
            }

            .icon-3d {
                width: 150px;
                height: 150px;
            }
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 0.8rem 1.8rem;
            background: white;
            color: var(--primary);
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        /* Cards Grid */
        .section-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .product-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: contain;
            padding: 1rem;
            background: var(--light);
        }

        .product-content {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .product-category {
            display: inline-block;
            background: var(--light-gray);
            color: var(--gray);
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-size: 0.8rem;
            margin-bottom: 1rem;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #ffc107;
            margin-bottom: 1rem;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        .card-btn {
            flex: 1;
            padding: 0.7rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .card-btn-primary {
            background: var(--primary);
            color: white;
        }

        .card-btn-primary:hover {
            background: var(--primary-dark);
        }

        .card-btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .card-btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        /* Product Detail */
        .product-detail-container {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            margin-top: 2rem;
        }

        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .product-detail {
                grid-template-columns: 1fr;
            }
        }

        .product-detail-image {
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 2rem;
        }

        .product-detail-image img {
            max-width: 100%;
            max-height: 400px;
            object-fit: contain;
        }

        .product-detail-info h1 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: var(--dark);
        }

        .product-detail-price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .product-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .meta-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .meta-value {
            font-weight: 600;
            color: var(--dark);
        }

        .product-description {
            line-height: 1.8;
            color: var(--gray);
            margin-bottom: 2rem;
        }

        /* Loader and Error */
        .loader {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem;
            gap: 1.5rem;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid var(--light-gray);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .error-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem;
            text-align: center;
            gap: 1.5rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
        }

        .error-icon {
            font-size: 4rem;
            color: var(--danger);
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: white;
            padding: 3rem 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-links a {
            color: #adb5bd;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
        }

        /* Dark Mode */
        body.dark-mode {
            background: #121212;
            color: #e0e0e0;
        }

        body.dark-mode .navbar,
        body.dark-mode .product-card,
        body.dark-mode .error-container,
        body.dark-mode .product-detail-container {
            background: #1e1e1e;
            color: #e0e0e0;
        }

        body.dark-mode .product-content h3,
        body.dark-mode .section-title,
        body.dark-mode .product-detail-info h1,
        body.dark-mode .meta-value {
            color: #e0e0e0;
        }

        body.dark-mode .search-bar input {
            background: #2d2d2d;
            border-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode .footer {
            background: #0a0a0a;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }

            .search-bar input {
                width: 200px;
            }



            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }



        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }

            .nav-actions {
                flex-direction: column;
                width: 100%;
            }

            .search-bar {
                width: 100%;
            }

            .search-bar input {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <a href="#/" class="logo">
            <i class="fas fa-store"></i>
            <span>ProductHub</span>
        </a>

        <div class="nav-links">
            <a href="#/" id="nav-home" class="active">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#/products" id="nav-products">
                <i class="fas fa-th-large"></i>
                <span>Products</span>
            </a>
        </div>

        <div class="nav-actions">
            <i class="fas fa-info-circle" id="info-btn" title="Project Overview"></i>

            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </nav>

    <!-- Main App Container -->
    <div id="app" class="container">
        <!-- Content will be dynamically loaded here -->
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>ProductHub</h3>
                <p>Your one-stop destination for exploring products from the FakeStore API. Built with modern SPA
                    principles.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <div class="footer-links">
                    <a href="#/">Home</a>
                    <a href="#/products">All Products</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Technology</h3>
                <div class="footer-links">
                    <a href="#">HTML5</a>
                    <a href="#">CSS3</a>
                    <a href="#">JavaScript</a>
                    <a href="#">FakeStore API</a>
                </div>
            </div>
        </div>
    </footer>
    <!-- Info Modal -->
    <div id="infoModal" class="info-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ProductHub – Project Overview</h2>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3><i class="fas fa-info-circle"></i> Project Overview</h3>
                    <p>ProductHub is a modern web application that shows products in a simple and clean way. It is a
                        single page application, which means the page does not reload when we move between sections. The
                        product data is taken from the FakeStore API. The application works smoothly on mobile, tablet,
                        and desktop devices.</p>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-star"></i> Core Features</h3>
                    <ul>
                        <li>The application works on a single page without refreshing</li>
                        <li>Product data is fetched from an external API in real time</li>
                        <li>The layout adjusts automatically for different screen sizes</li>
                        <li>Users can switch between dark mode and light mode</li>
                        <li>Choice is saved between sessions</li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-sitemap"></i> Pages</h3>
                    <ul>
                        <li><strong>Home Page:</strong> Shows a short introduction about the application</li>
                        <li><strong>Products Page:</strong> Displays all products with images, names, and prices</li>
                        <li><strong>Product Details Page:</strong> Shows complete information about a selected product
                        </li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-paint-brush"></i> User Interface</h3>
                    <ul>
                        <li>Uses cards to display product information clearly</li>
                        <li>Shows a loading indicator while data is being fetched</li>
                        <li>Displays simple error messages if data fails to load</li>
                        <li>Smooth animations improve user experience</li>
                        <li>Clean design with consistent colors and fonts</li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-cogs"></i> Technologies Used</h3>
                    <ul>
                        <li><strong>Frontend:</strong> HTML5, CSS3, JavaScript, jQuery, Font Awesome</li>
                        <li><strong>API:</strong> FakeStore API for product data</li>
                        <li><strong>Responsive Design:</strong> Mobile, tablet, and desktop layouts</li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h3><i class="fas fa-rocket"></i> How to Run</h3>
                    <ul>
                        <li><strong>Method 1:</strong> Open index.html directly in browser</li>
                        <li><strong>Method 2:</strong> Host on a web server</li>
                        <li><strong>Method 3:</strong> Open in code editor for development</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <p>ProductHub SPA - Modern Product Application | Version 2.0</p>
            </div>
        </div>
    </div>

    <script>
        // API Configuration - Same as bak.html
        const API_URL = 'https://fakestoreapi.com/products';

        // Router - Simplified like bak.html
        function router() {
            const hash = location.hash || '#/';
            $('.nav-links a').removeClass('active');

            if (hash === '#/') {
                $('#nav-home').addClass('active');
                renderHome();
            } else if (hash === '#/products') {
                $('#nav-products').addClass('active');
                renderProducts();
            } else if (hash.startsWith('#/product/')) {
                const id = hash.split('/')[2];
                renderProductDetail(id);
            } else {
                $('#app').html('<h2 style="text-align:center;margin-top:50px;">404 Page Not Found</h2>');
            }
        }

        $(window).on('hashchange', router);
        $(window).on('load', router);

        // UI Components - Simplified
        function Loader() {
            return `
                <div class="loader">
                    <div class="spinner"></div>
                    <p>Loading products...</p>
                </div>
            `;
        }

        function ErrorMessage(msg) {
            return `
                <div class="error-container">
                    <div class="error-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h2>Error</h2>
                    <p>${msg}</p>
                    <button class="btn btn-primary" onclick="location.reload()">
                        <i class="fas fa-redo"></i>
                        Try Again
                    </button>
                </div>
            `;
        }

        function ProductCard(product) {
            return `
                <div class="product-card">
                    <img src="${product.image}" alt="${product.title}" loading="lazy">
                    <div class="product-content">
                        <span class="product-category">${product.category}</span>
                        <h3 class="product-title">${product.title}</h3>
                        <div class="product-price">$${product.price.toFixed(2)}</div>
                        <div class="card-actions">
                            <button class="card-btn card-btn-primary" onclick="location.hash='#/product/${product.id}'">
                                <i class="fas fa-eye"></i>
                                View Details
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Page Renderers - Simplified like bak.html
        function renderHome() {
            $('#app').html(`
        <div class="hero">
            <h1>Discover Amazing Products</h1>
            <p>Explore our curated collection of products from the FakeStore API. Find exactly what you're looking for with our modern SPA experience.</p>
            
            <div class="hero-icons">
                <div class="icon-3d">
                    <i class="fas fa-bolt"></i>
                    <div class="icon-title">Fast Loading</div>
                    <div class="icon-subtitle">Instant API response</div>
                </div>
                <div class="icon-3d">
                    <i class="fas fa-mobile-alt"></i>
                    <div class="icon-title">Responsive</div>
                    <div class="icon-subtitle">Works on all devices</div>
                </div>
                <div class="icon-3d">
                    <i class="fas fa-palette"></i>
                    <div class="icon-title">Modern UI</div>
                    <div class="icon-subtitle">Dark/Light modes</div>
                </div>
            </div>
            
            <div class="hero-buttons">
                <a href="#/products" class="btn btn-primary">
                    <i class="fas fa-shopping-bag"></i>
                    Browse Products
                </a>
                <a href="#/" class="btn btn-secondary" onclick="showFeatures()">
                    <i class="fas fa-play-circle"></i>
                    See Demo
                </a>
            </div>
        </div>
        
        <div style="margin-top: 4rem;">
            <h2 class="section-title">
                <i class="fas fa-bolt"></i>
                Key Features
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem;">
                <div style="background: white; padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--card-shadow);">
                    <i class="fas fa-route" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
                    <h3 style="margin-bottom: 1rem;">SPA Routing</h3>
                    <p>Seamless navigation between pages without reloads using hash-based routing.</p>
                </div>
                <div style="background: white; padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--card-shadow);">
                    <i class="fas fa-database" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
                    <h3 style="margin-bottom: 1rem;">API Integration</h3>
                    <p>Real-time data fetching from FakeStore API with error handling and loading states.</p>
                </div>
                <div style="background: white; padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--card-shadow);">
                    <i class="fas fa-mobile-alt" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
                    <h3 style="margin-bottom: 1rem;">Responsive Design</h3>
                    <p>Optimized for all devices from mobile to desktop with a modern UI.</p>
                </div>
            </div>
        </div>
    `);
        }

        function renderProducts() {
            $('#app').html(Loader());

            $.getJSON(API_URL)
                .done(function (products) {
                    if (products.length === 0) {
                        $('#app').html(ErrorMessage('No products found!'));
                        return;
                    }

                    let html = `
                        <h1 class="section-title">
                            <i class="fas fa-boxes"></i>
                            All Products
                            <span style="font-size: 1rem; color: var(--gray); margin-left: 1rem;">
                                (${products.length} products)
                            </span>
                        </h1>
                        <div class="products-grid">
                    `;

                    products.forEach(product => {
                        html += ProductCard(product);
                    });

                    html += '</div>';
                    $('#app').html(html);
                })
                .fail(function () {
                    $('#app').html(ErrorMessage('Error loading products.'));
                });
        }

        function renderProductDetail(id) {
            $('#app').html(Loader());

            $.getJSON(`${API_URL}/${id}`)
                .done(function (product) {
                    $('#app').html(`
                        <div class="product-detail-container">
                            <div class="product-detail">
                                <div class="product-detail-image">
                                    <img src="${product.image}" alt="${product.title}">
                                </div>
                                <div class="product-detail-info">
                                    <span class="product-category">${product.category}</span>
                                    <h1>${product.title}</h1>
                                    <div class="product-detail-price">$${product.price.toFixed(2)}</div>
                                    
                                    <div class="product-meta">
                                        <div class="meta-item">
                                            <span class="meta-label">Category</span>
                                            <span class="meta-value">${product.category}</span>
                                        </div>
                                        <div class="meta-item">
                                            <span class="meta-label">Rating</span>
                                            <span class="meta-value">${product.rating.rate} (${product.rating.count} reviews)</span>
                                        </div>
                                    </div>
                                    
                                    <p class="product-description">${product.description}</p>
                                    
                                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                                        <button class="btn btn-primary" onclick="location.hash='#/products'">
                                            <i class="fas fa-arrow-left"></i>
                                            Back to Products
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `);
                })
                .fail(function () {
                    $('#app').html(ErrorMessage('Error loading product details.'));
                });
        }

        // Theme Toggle (keeping this functionality)
        $(document).ready(function () {
            // Set initial theme
            const darkMode = localStorage.getItem('darkMode') === 'true';
            if (darkMode) {
                document.body.classList.add('dark-mode');
                $('#theme-toggle i').removeClass('fa-moon').addClass('fa-sun');
            }

            // Theme toggle handler
            $('#theme-toggle').click(function () {
                const isDark = document.body.classList.toggle('dark-mode');
                const icon = $('#theme-toggle i');

                if (isDark) {
                    icon.removeClass('fa-moon').addClass('fa-sun');
                } else {
                    icon.removeClass('fa-sun').addClass('fa-moon');
                }

                localStorage.setItem('darkMode', isDark);
            });
        });

        // Modal functionality
        $(document).ready(function () {
            // Info button click
            $('#info-btn').click(function () {
                $('#infoModal').fadeIn(300);
                $('body').css('overflow', 'hidden'); // Prevent background scrolling
            });

            // Close modal button
            $('#closeModal').click(function () {
                closeModal();
            });

            // Close modal when clicking outside
            $(document).on('click', function (e) {
                if ($(e.target).hasClass('info-modal')) {
                    closeModal();
                }
            });

            // Close modal with Escape key
            $(document).keydown(function (e) {
                if (e.key === 'Escape' && $('#infoModal').is(':visible')) {
                    closeModal();
                }
            });

            function closeModal() {
                $('#infoModal').fadeOut(300);
                $('body').css('overflow', 'auto'); // Re-enable scrolling
            }
        });

        function showFeatures() {
            // Show a demo notification or scroll to features
            showNotification('Try our 3D interactive icons!');
            $('html, body').animate({
                scrollTop: $('.section-title').offset().top - 100
            }, 1000);
        }
    </script>
</body>

</html>